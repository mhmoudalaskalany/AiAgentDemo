<form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" class="p-4">
  <mat-form-field appearance="fill" class="w-100 mb-3">
    <mat-label>Username</mat-label>
    <input matInput id="username" formControlName="username" placeholder="Enter username">
    @if (registrationForm.get('username')?.touched && registrationForm.get('username')?.invalid) {
      <mat-error>
        @if (registrationForm.get('username')?.errors?.['required']) {
          Username is required
        }
        @if (registrationForm.get('username')?.errors?.['minlength']) {
          Username must be at least 3 characters
        }
      </mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="fill" class="w-100 mb-3">
    <mat-label>Email</mat-label>
    <input matInput type="email" id="email" formControlName="email" placeholder="Enter email">
    @if (registrationForm.get('email')?.touched && registrationForm.get('email')?.invalid) {
      <mat-error>
        @if (registrationForm.get('email')?.errors?.['required']) {
          Email is required
        }
        @if (registrationForm.get('email')?.errors?.['email']) {
          Please enter a valid email
        }
      </mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="fill" class="w-100 mb-3">
    <mat-label>Password</mat-label>
    <input matInput type="password" id="password" formControlName="password" placeholder="Enter password">
    @if (registrationForm.get('password')?.touched && registrationForm.get('password')?.invalid) {
      <mat-error>
        @if (registrationForm.get('password')?.errors?.['required']) {
          Password is required
        }
        @if (registrationForm.get('password')?.errors?.['minlength']) {
          Password must be at least 6 characters
        }
      </mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="fill" class="w-100 mb-3">
    <mat-label>Confirm Password</mat-label>
    <input matInput type="password" id="confirmPassword" formControlName="confirmPassword" placeholder="Confirm password">
    @if (registrationForm.get('confirmPassword')?.touched && registrationForm.get('confirmPassword')?.invalid) {
      <mat-error>
        @if (registrationForm.get('confirmPassword')?.errors?.['required']) {
          Please confirm your password
        }
        @if (registrationForm.get('confirmPassword')?.errors?.['passwordMismatch']) {
          Passwords do not match
        }
      </mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="fill" class="w-100 mb-3">
    <mat-label>Civil Number</mat-label>
    <input matInput id="civilNumber" formControlName="civilNumber" placeholder="Enter your civil number" pattern="\\d{12}">
    @if (registrationForm.get('civilNumber')?.touched && registrationForm.get('civilNumber')?.invalid) {
      <mat-error>
        @if (registrationForm.get('civilNumber')?.errors?.['required']) {
          Civil number is required
        }
        @if (registrationForm.get('civilNumber')?.errors?.['minlength'] || registrationForm.get('civilNumber')?.errors?.['maxlength']) {
          Civil number must be exactly 12 digits
        }
        @if (registrationForm.get('civilNumber')?.errors?.['pattern']) {
          Civil number must contain only digits
        }
      </mat-error>
    }
  </mat-form-field>

  <button mat-raised-button color="primary" type="submit" [disabled]="registrationForm.invalid">Register</button>
</form>